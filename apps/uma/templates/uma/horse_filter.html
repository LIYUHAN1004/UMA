{% load static %}

<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¦¬å¨˜ç¯©é¸ç³»çµ±</title>
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: linear-gradient(to bottom right, #f9fbff, #eaf4ff);
            font-family: "Microsoft JhengHei", sans-serif;
        }
        h1 {
            text-align: center;
            color: #004d7a;
            font-weight: 700;
            margin: 40px 0 30px;
        }
        .card {
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-radius: 10px;
        }
        .table th {
            background-color: #004d7a !important;
            color: white;
            text-align: center;
        }
        .table td {
            vertical-align: middle;
            text-align: center;
        }
        .footer {
            text-align: center;
            padding: 15px;
            background-color: #004d7a;
            color: white;
            margin-top: 40px;
        }
        .btn-primary {
            background-color: #0077cc;
            border-color: #0077cc;
        }
        .btn-primary:hover {
            background-color: #005fa3;
            border-color: #005fa3;
        }
    </style>
</head>

<body>
<div class="container">
    <h1>é¦¬å¨˜ç¯©é¸ç³»çµ±</h1>

    <!-- ç¯©é¸è¡¨å–®å€ -->
    <div class="card p-4 mb-4">
        <form method="get" class="row g-3">
            <div class="col-md-2">
                <label class="form-label">è·é›¢</label>
                {{ form.distance_type }}
            </div>
            <div class="col-md-2">
                <label class="form-label">è·‘æ³•</label>
                {{ form.running_style }}
            </div>
            <div class="col-md-2">
                <label class="form-label">æ˜Ÿç´š</label>
                {{ form.rarity }}
            </div>
            <div class="col-md-2">
                <label class="form-label">åˆ†æ•¸</label>
                {{ form.min_score }}
            </div>
            <div class="col-md-2 d-flex align-items-end">
                <button type="submit" class="btn btn-primary w-100">ğŸ” æŸ¥è©¢</button>
            </div>
        </form>
    </div>

    <!-- çµæœè¡¨æ ¼ -->
    <div class="card p-4">
        <h4 class="mb-3 text-center text-secondary">ç¯©é¸çµæœ</h4>

        <table class="table table-striped table-hover table-bordered align-middle">
            <thead>
                <tr>
                    <th>åç¨±</th>
                    <th>è·é›¢</th>
                    <th>è·‘æ³•</th>
                    <th>æ˜Ÿç´š</th>
                    <th>åˆ†æ•¸</th>
                    <th>åŸ¹è‚²çµæœ</th>
                </tr>
            </thead>
            <tbody>
                {% for horse in horses %}
                    <tr>
                        <td><strong>{{ horse.name }}</strong></td>
                        <td>{{ horse.distance_type }}</td>
                        <td>{{ horse.running_style }}</td>
                        <td>â˜…{{ horse.rarity }}</td>
                        <td>{{ horse.score }}</td>
                        <td>
                            {% if horse.training_results.exists %}
                                {% for result in horse.training_results.all %}
                                    <div>
                                        é€Ÿåº¦: {{ result.speed }},
                                        è€åŠ›: {{ result.stamina }},
                                        æ ¹æ€§: {{ result.guts }},
                                        æ™ºæ…§: {{ result.wisdom }},
                                        <strong>ç¸½åˆ†: {{ result.total_score }}</strong>
                                    </div>
                                {% endfor %}
                            {% else %}
                                <span class="text-muted">ç„¡åŸ¹è‚²è¨˜éŒ„</span>
                            {% endif %}
                        </td>
                    </tr>
                {% empty %}
                    <tr><td colspan="6" class="text-center text-muted">å°šç„¡è³‡æ–™ï¼Œè«‹å˜—è©¦å…¶ä»–æ¢ä»¶ã€‚</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>


    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
